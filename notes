Mám centos 7
  Napřed skusim nainstalovat na centos apache (httpd) 
  >nainstalovanej defaultně není



Instalace Ansible na windows jako controlling machine
  >zapnutí developer mode, zakliknutí linux enviroment for windows
  >v cmd nefunguje bash, zkouším lxrun /instalace
  poté v bash on ubuntu:
  sudo apt-get install software-properties-common
  sudo apt-add-repository ppa:ansible/ansible
  sudo apt-get update
  sudo apt-get install ansible



Playbooks - testujeme
  https://www.youtube.com/watch?v=9g0IGoRJtzM
  vim playbook.yml z vimu se vyskakuje [ESC] > : > wq > [ENTER]
  začíná ---
  ansible-playbook -i inventory testbook.yml --connection=local
  --- - name: testing ansible hosts: gkuntz-2w10 tasks: - name: echo a message debug: msg="this is working"
Inventory jsou normální soubory > vim inventory
  jsou v nich skuppiny [testing] a pod nima localhost a test1.domain.tld ....

Snažím se připojit jakoby k ansible ten virual box - můj server. Napřed bych ho chtěl alespon pingnout, než pochopim to ssh
  Jak zjistím ip adresu toho serveru? Zkousim ip addr, ip a, hostname -i
  ansible --list-host all
  pingování: ansible -i inventory all -m ping
SSH!!! Nuže ssh se vyrábí ssh-keygen -t rsa
  ukládá se to /root/ssh pokud chceme vidět zkryté složky v /root musíme ls -la
  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
  SSH nešlo připojit (ssh root@127.0.0.1) tak zkouším povolit porty podle https://unix.stackexchange.com/questions/121588/cant-access-ssh-in-my-vm-centos
  YESSSSS funguje to fuck yeah (ale nakonec jsem předělal oba porty na 22)
  MUSÍ TO BÝT ssh -p2222 root@127.0.0.1
  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
  /sbin/service sshd status    >  ukáže jestli ssh funguje
  Základní otestování ssh: https://www.techotopia.com/index.php/Configuring_CentOS_Remote_Access_using_SSH
  Takže znovu vytvořeno ssh-keygen -t rsa (we win)
  poté ssh-copy-id root@192.168.56.101
  Když už jde pingovat a ssh ale nejde pustit playbooks, tak tohle do inventory:
  [testing]
  192.168.56.101 ansible_connection=ssh ansible_ssh_user=root ansible_ssh_pass=root
CENTOS pokud chci psát do txt, tak to musím povolit chmod gu+w lel.txt

APACHE instalace apache přes ansible: https://codingbee.net/ansible/ansible-a-playbook-for-setting-up-an-apache-webserver
  je apache nainstalovanej? :   https://stackoverflow.com/questions/38673684/how-to-know-whether-apache-is-install-or-not-from-centos-7
  sudo systemctl status httpd
  
Velká IP krize 1.3.19: V nastavení jsou zapnuty dva adaptéry, NAT a "host only něco". Bez dalšího nastavování.

-----------------------!!!!!!!!!!!!!----------- INSTALACE TOHO BALIKU
APACHE:   sudo systemctl status httpd
HTOP:
  instalace htopu: http://cheapwindowsvps.com/blog/how-to-install-htop-on-centos-7/
Nginx: https://code-maven.com/install-and-configure-nginx-using-ansible Zkouška: nginx
Postgresql: https://www.linode.com/docs/databases/postgresql/how-to-install-postgresql-relational-databases-on-centos-7/
Wordpress: https://serverfault.com/questions/891373/unable-to-create-mysql-database-through-ansible
  https://www.tecmint.com/automate-wordpress-installations-in-multiple-linux-servers-using-ansible/
  Problémy: Nechtelo to vzít vůbec nic, musel jsem předelat složky do "roles"
  1) nechtelo to vzít wp-dependencies/tasks/main.yml protože se tomu nelíbil layout, i když to bylo zkopírovaný. praveno
  2) nechtelo to instalovat ve stejnym míste, i když zkopírováno. Opravecno
  3) nechtělo to vytvářet tu mariadb databázi, nainstalovan ručně mysql-python. Uz to funguje
  4) nechtelo to to vytvářed mariadb databazi kvuli heslum na roota, pridana radka podle jineho tutorialo, link nahore.
  6) nechce to nahodit service mariadb, jo protože neni nainstalovanej, MUSIM FORCE installovat mariadb, YUM CHCE MERMOMOCI INSTALOVAT MYSQL
    dělám to podle: https://linux4one.com/how-to-install-mariadb-10-on-centos-7/
  7) číslo (6) nefunguje, zkouším jiný způsob přes remi repo https://www.tecmint.com/install-wordpress-with-apache-on-centos-rhel-fedora/
Porainer: https://www.howtoforge.com/tutorial/ubuntu-docker-portainer/
  8) Bullshit i am doing right now: yum list installed | grep mysql ---> odinstaloval jsem všechno co jsem tam našel, tak uvidíme (Záloha teoreticky v obrázku)
  9) čílo (8) funguje, obe mariadb nainstalovany pres to remi repo
  10) hlasí tu nespecifikovanou chybu, mažu z wp-dependencies to co jsem tam připsal k tomu vytváředí mariadb databáze. To nefunguje, zase to hlásí
    že to nemá práva vytvářet ten config, vracím se zpět
  11)  JAK JSEM OPRAVIL WP-DEPENDENCIES/TASKS/MAIN.YML Nuže dole jsem měl u těch proměných mezery a u toho priv se posouvá quota. nahoru k databazi jsem připsal root a root
    https://github.com/ansible/ansible/issues/13983
    v tom wp-config jsem zakomentoval to kopírování php samplu
    wordpress se nainstaluje do usr/share/wordpress
    mysql -u root -p
    show databases
    drop database MyWP
    Virtualhost se posílá do etc/httpd/conf.d
https://www.linode.com/docs/databases/mariadb/how-to-install-mariadb-on-centos-7/
Hesla 12341234, 1234, 2401, Jony9371Jony

